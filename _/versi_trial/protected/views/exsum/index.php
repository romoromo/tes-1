<div class="row">
	<div class="col col-md-12">
		<div class="well">
			<!-- <div id="pie-chart" class="col"></div> -->
			<div id="div-pie-chart"></div>
		</div>
	</div>
</div>

<div class="row">
	<div class="col col-md-12">
		<div class="well">
			<!-- <div id="bar-chart"></div> -->
			<!-- <div id="div-batang-pendapatan-chart"></div> -->
			<div id="div-grid-realisasi"></div>
		</div>
	</div>
</div>

<div class="row">
	<div class="col col-md-12">
		<div class="well">
			<div id="line-chart"></div>
			<!-- <div id="div-line-target-realisasi-chart"></div> -->
		</div>
	</div>
</div>

<div class="row">
	<!-- <div class="col col-md-12">
		<div class="well"> -->
			<div id="div-grid-realisasi-perbulan"></div>
		<!-- </div>
	</div> -->
	<?php /*!-- NEW WIDGET START -->
	<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

		<!-- Widget ID (each widget will need unique ID)-->
		<div class="jarviswidget jarviswidget-color-orange" id="wid-id-obyek" data-widget-sortable="false" data-widget-deletebutton="false" data-widget-editbutton="false" data-widget-fullscreenbutton="false">
				<!-- widget options:
				usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

				data-widget-colorbutton="false"
				data-widget-editbutton="false"
				data-widget-togglebutton="false"
				data-widget-deletebutton="false"
				data-widget-fullscreenbutton="false"
				data-widget-custombutton="false"
				data-widget-collapsed="true"
				data-widget-sortable="false"

			-->
			<header>
				<span class="widget-icon"> <i class="fa fa-table"></i> </span>
				<h2>&nbsp;Data Capaian Penetapan Pajak Daerah</h2>

			</header>

			<!-- widget div-->
			<div>

				<!-- widget edit box -->
				<div class="jarviswidget-editbox">
					<!-- This area used as dropdown edit box -->

				</div>
				<!-- end widget edit box -->

				<!-- widget content -->
				<div class="widget-body no-padding">

					<div class="">
						
						<table width="100%" class="table table-bordered table-striped table-condensed table-hover smart-form has-tickbox" id="dt_basic">
							<thead>
								<tr>
									<th width="15"> No</th>
									<th data-hide="phone"><div class="center"> Nama Bidang Usaha</div></th>
									<th data-hide="phone"><div class="center"> Januari</div></th>
									<th data-class="expand"><div class="center"> Pebruari </div></th>
									<th data-hide="phone, tablet"><div class="center"> Maret</div></th>
									<th data-hide="phone, tablet"><div class="center"> April</div></th>
									<th data-hide="phone, tablet, desktop">Mei</th>
									<th data-hide="phone, tablet, desktop">Juni</th>
									<th data-hide="phone, tablet, desktop">Juli</th>
									<th data-hide="phone, tablet, desktop">Agustus</th>
									<th data-hide="phone, tablet, desktop">September</th>
									<th data-hide="phone, tablet, desktop">Oktober</th>
									<th data-hide="phone, tablet, desktop">November</th>
									<th data-hide="phone, tablet, desktop">Desember</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>1.</td>
									<td>Pajak Hotel</td>
									<td>20.000.000</td>
									<td>28.000.000</td>
									<td>30.000.000</td>
									<td>31.000.000</td>
									<td>34.000.000</td>
									<td>36.000.000</td>
									<td>40.000.000</td>
									<td>70.000.000</td>
									<td>80.000.000</td>
									<td>85.000.000</td>
									<td>87.000.000</td>
									<td>90.000.000</td>
								</tr>
								<tr>
									<td>2.</td>
									<td>Pajak Rumah Makan</td>
									<td>40.000.000</td>
									<td>48.000.000</td>
									<td>50.000.000</td>
									<td>61.000.000</td>
									<td>64.000.000</td>
									<td>66.000.000</td>
									<td>80.000.000</td>
									<td>80.000.000</td>
									<td>80.000.000</td>
									<td>95.000.000</td>
									<td>97.000.000</td>
									<td>100.000.000</td>
								</tr>
								<tr>
									<td>3.</td>
									<td>Pajak Hiburan</td>
									<td>20.000.000</td>
									<td>28.000.000</td>
									<td>30.000.000</td>
									<td>31.000.000</td>
									<td>44.000.000</td>
									<td>56.000.000</td>
									<td>60.000.000</td>
									<td>70.000.000</td>
									<td>90.000.000</td>
									<td>95.000.000</td>
									<td>97.000.000</td>
									<td>100.000.000</td>
								</tr>
								<tr>
									<td>4.</td>
									<td>Pajak Parkir</td>
									<td>10.000.000</td>
									<td>18.000.000</td>
									<td>20.000.000</td>
									<td>21.000.000</td>
									<td>54.000.000</td>
									<td>76.000.000</td>
									<td>80.000.000</td>
									<td>90.000.000</td>
									<td>100.000.000</td>
									<td>110.000.000</td>
									<td>111.000.000</td>
									<td>120.000.000</td>
								</tr>
								<tr>
									<td>5.</td>
									<td>Pajak Sarang Burung Walet</td>
									<td>9.000.000</td>
									<td>10.000.000</td>
									<td>11.000.000</td>
									<td>13.000.000</td>
									<td>21.000.000</td>
									<td>26.000.000</td>
									<td>29.000.000</td>
									<td>40.000.000</td>
									<td>47.000.000</td>
									<td>56.000.000</td>
									<td>59.000.000</td>
									<td>70.000.000</td>
								</tr>
								<tr>
									<td>6.</td>
									<td>Pajak Reklame</td>
									<td>10.000.000</td>
									<td>21.000.000</td>
									<td>22.000.000</td>
									<td>30.000.000</td>
									<td>34.000.000</td>
									<td>36.000.000</td>
									<td>40.000.000</td>
									<td>40.000.000</td>
									<td>59.000.000</td>
									<td>70.000.000</td>
									<td>71.000.000</td>
									<td>73.000.000</td>
								</tr>
								<tr>
									<td>7.</td>
									<td>Pajak Air Tanah</td>
									<td>8.000.000</td>
									<td>11.000.000</td>
									<td>22.000.000</td>
									<td>40.000.000</td>
									<td>44.000.000</td>
									<td>46.000.000</td>
									<td>50.000.000</td>
									<td>60.000.000</td>
									<td>69.000.000</td>
									<td>70.000.000</td>
									<td>71.000.000</td>
									<td>73.000.000</td>
								</tr>
								<tr>
									<td>8.</td>
									<td>Pajak Galian / Golongan C</td>
									<td>5.000.000</td>
									<td>9.000.000</td>
									<td>12.000.000</td>
									<td>20.000.000</td>
									<td>24.000.000</td>
									<td>36.000.000</td>
									<td>40.000.000</td>
									<td>40.000.000</td>
									<td>49.000.000</td>
									<td>50.000.000</td>
									<td>61.000.000</td>
									<td>73.000.000</td>
								</tr>
							</tbody>
						</table>

					</div>

				</div>
				<!-- end widget content -->

			</div>
			<!-- end widget div -->

		</div>
		<!-- end widget -->

	</article>
	<!-- WIDGET END --*/ ?>

</div>



<script type="text/javascript" src="themes/smartadmin/js/plugin/highcharts/highcharts.js"></script>
<script type="text/javascript" src="themes/smartadmin/js/plugin/highcharts/highcharts-3d.js"></script>
<script type="text/javascript" src="themes/smartadmin/js/plugin/highcharts/exporting.js.js"></script>
<script type="text/javascript">
	pageSetUp();

	jQuery(document).ready(function($) {
		reloadDT('dt_basic');
		Highcharts.setOptions({
			lang: {
        //numericSymbols: null //otherwise by default ['k', 'M', 'G', 'T', 'P', 'E']
        numericSymbols: [' Ribu', ' Juta', ' Milyar', ' Triliun', ' Kuadriliun'] //otherwise by default 
        ,thousandsSep : '.'
        ,decimalPoint: ','
      },
    });
	});

	$(document).ready(function() {
		// loadpie();
		loadpie2();
		loadline();
		loadbar();
	});

	/*
	*/
	$(document).ready(function() {
		loadView('div-pie-chart', 'exsum/load/', {template: 'grafik-pie', tahun: <?= date('Y') ?>});
		loadView('div-grid-realisasi', 'exsum/load/', {template: 'grid-realisasi', tahun: <?= date('Y') ?>});
		loadView('div-grid-realisasi-perbulan', 'exsum/load/', {template: 'grid-realisasi-perbulan', tahun: <?= date('Y') ?>});
		// loadView('div-line-target-realisasi-chart', 'exsum/load/', {template: 'grafik-line-target-realisasi', tahun: <?= date('Y') ?>});
	});

	function loadView(elm, url, param) {
		$.post(url, param, function(respon) {
			$("#"+elm).html(respon);
		});
	}

	/*function loadpie() {
	    $('#pie-chart').highcharts({
	        chart: {
	            type: 'pie',
	            options3d: {
	                enabled: true,
	                alpha: 45,
	                beta: 0
	            }
	        },
	        title: {
	            text: 'Target Pajak Daerah'
	        },
	        tooltip: {
	            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
	        },
	        plotOptions: {
	            pie: {
	                allowPointSelect: true,
	                cursor: 'pointer',
	                depth: 35,
	                dataLabels: {
	                    enabled: true,
	                    format: '{point.name}'
	                }
	            }
	        },
	        series: [{
	            type: 'pie',
	            name: 'Persentase',
	            data: [
	            	<?php foreach ($data['REALISASI_PERREKENING'] as $list_perrekening): ?>
	                ['<?php echo $list_perrekening["NM_REKENING"]; ?>', <?php echo $list_perrekening['RUPIAHSETOR']; ?>],
	                <?php endforeach ?>
	            ]
	        }]
	    });
	}*/

	function loadpie2() {
	    $('#pie-chart2').highcharts({
	        chart: {
	            type: 'pie',
	            options3d: {
	                enabled: true,
	                alpha: 45,
	                beta: 0
	            }
	        },
	        title: {
	            text: 'Realisasi Pajak Daerah'
	        },
	        tooltip: {
	            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
	        },
	        plotOptions: {
	            pie: {
	                allowPointSelect: true,
	                cursor: 'pointer',
	                depth: 35,
	                dataLabels: {
	                    enabled: true,
	                    format: '{point.name}'
	                }
	            }
	        },
	        series: [{
	            type: 'pie',
	            name: 'Persentase',
	            data: [
	            	<?php foreach ($data['REALISASI_PERREKENING'] as $list_perrekening): ?>
	                ['<?php echo $list_perrekening["NM_REKENING"]; ?>', <?php echo $list_perrekening['RUPIAHSETOR']; ?>],
	                <?php endforeach ?>
	            ]
	        }]
	    });
	}

	function loadbar() {
		$('#bar-chart').highcharts({
	        chart: {
	            type: 'column',
	            options3d: {
	                enabled: true,
	                alpha: 15,
	                beta: 15,
	                depth: 50,
	                viewDistance: 25
	            }
	        },
	        title: {
	            text: 'Pendapatan Pajak Daerah'
	        },
	        subtitle: {
	            text: 'Tahun 2016'
	        },
	        xAxis: {
	            categories: [
	                'Jan',
	                'Feb',
	                'Mar',
	                'Apr',
	                'May',
	                'Jun',
	                'Jul',
	                'Aug',
	                'Sep',
	                'Oct',
	                'Nov',
	                'Dec'
	            ],
	            crosshair: true
	        },
	        yAxis: {
	            min: 0,
	            title: {
	                text: 'Rupiah'
	            }
	        },
	        tooltip: {
	            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
	            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
	                '<td style="padding:0"><b>{point.y:.1f} Rupiah</b></td></tr>',
	            footerFormat: '</table>',
	            shared: true,
	            useHTML: true
	        },
	        plotOptions: {
	            column: {
	                pointPadding: 0.2,
	                borderWidth: 0
	            }
	        },
	        series: [
	          {
	            name: 'Target',
	            data: [
		            123000000,
		            124000000,
		            129000000,
		            132000000,
		            138000000,
		            140000000,
		            141000000,
		            143000000,
		            147000000,
		            155000000,
		            165000000,
		            185000000
	            ]
	          },
	          {
	            name: 'Realisasi',
	            data: [
		            123000000,
		            124000000,
		            126000000,
		            133000000,
		            135000000,
		            138000000,
		            140000000,
		            142000000,
		            146000000,
		            156000000,
		            166000000,
		            186000000
	            ]
	          },
	        ]
	    });
	}

	function loadline() {
	    $('#line-chart').highcharts({
	        chart: {
	            type: 'line'
	        },
	        title: {
	            text: 'Grafik Garis Realisasi'
	        },
	        subtitle: {
	            text: 'Pendapatan Daerah'
	        },
	        xAxis: {
	            categories: ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember']
	        },
	        yAxis: {
	            title: {
	                text: 'Rupiah'
	            }
	        },
	        plotOptions: {
	            line: {
	                dataLabels: {
	                    enabled: true
	                },
	                enableMouseTracking: true
	            }
	        },
	        series: [/*{
	            name: 'Target',
	            data: [70000000, 69000000, 95000000, 145000000, 184000000, 215000000, 252000000, 265000000, 273000000, 283000000, 293000000, 303000000]
	        },*/ {
	            name: 'Realisasi',
	            data: [39000000, 42000000, 57000000, 85000000, 119000000, 152000000, 170000000, 175000000, 182000000, 192000000, 202000000, 212000000]
	        }]
	    });
	}

</script>
